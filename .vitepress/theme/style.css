@import url("https://fonts.googleapis.com/css2?family=Geist:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap");
@import "tailwindcss";

/**
 * TG-FileStreamBot — Custom Theme
 * Dark terminal aesthetic with #00FF85 green accent
 */

/* ── Tailwind Theme Extension ── */
@theme {
  --color-fsb: #00ff85;
  --color-fsb-dim: #00cc6a;
  --color-fsb-dark: #00994f;
  --color-cyan: #00b4d8;
  --color-surface: #0a0d12;
  --color-surface-raised: #111820;
  --color-surface-overlay: #161d27;
  --color-border-subtle: rgba(255, 255, 255, 0.06);
  --color-border-medium: rgba(255, 255, 255, 0.1);
  --color-text-primary: #e6edf3;
  --color-text-secondary: rgba(230, 237, 243, 0.6);
  --color-text-tertiary: rgba(230, 237, 243, 0.35);
  --font-family-display: "Geist", system-ui, -apple-system, sans-serif;
  --font-family-mono: "JetBrains Mono", "Fira Code", monospace;

  /* ── Custom Animations ── */
  --animate-progress-fill: progress-fill 3s ease-out forwards;
  --animate-fade-in-up: fade-in-up 0.7s cubic-bezier(0.16, 1, 0.3, 1) both;
  --animate-fade-in: fade-in 0.5s ease-out both;

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(24px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-20px);
    }
  }
}

@keyframes progress-fill {
  0% {
    width: 0%;
  }

  100% {
    width: 100%;
  }
}

/* ── Force dark mode body ── */
html {
  color-scheme: dark;
  scroll-behavior: smooth;
}

body {
  background-color: var(--color-surface) !important;
}

/* ── VitePress variable overrides ── */
:root {
  --vp-c-bg: var(--color-surface);
  --vp-c-bg-alt: var(--color-surface-raised);
  --vp-c-bg-elv: var(--color-surface-overlay);
  --vp-c-bg-soft: var(--color-surface-raised);
  --vp-sidebar-bg-color: var(--color-surface);
  --vp-c-text-1: var(--color-text-primary);
  --vp-c-text-2: var(--color-text-secondary);
  --vp-c-text-3: var(--color-text-tertiary);
  --vp-c-divider: var(--color-border-subtle);
  --vp-c-gutter: var(--color-surface);

  --vp-c-brand-1: #00ff85;
  --vp-c-brand-2: #00e077;
  --vp-c-brand-3: #00cc6a;
  --vp-c-brand-soft: rgba(0, 255, 133, 0.12);

  --vp-c-tip-1: var(--vp-c-brand-1);
  --vp-c-tip-2: var(--vp-c-brand-2);
  --vp-c-tip-3: var(--vp-c-brand-3);
  --vp-c-tip-soft: var(--vp-c-brand-soft);

  --vp-font-family-base: "Geist", system-ui, -apple-system, sans-serif;
  --vp-font-family-mono: "JetBrains Mono", "Fira Code", monospace;

  --vp-button-brand-border: transparent;
  --vp-button-brand-text: #0a0a0a;
  --vp-button-brand-bg: #00ff85;
  --vp-button-brand-hover-border: transparent;
  --vp-button-brand-hover-text: #0a0a0a;
  --vp-button-brand-hover-bg: #00cc6a;
  --vp-button-brand-active-border: transparent;
  --vp-button-brand-active-text: #0a0a0a;
  --vp-button-brand-active-bg: #00cc6a;

  --vp-custom-block-tip-border: transparent;
  --vp-custom-block-tip-text: var(--vp-c-text-1);
  --vp-custom-block-tip-bg: var(--vp-c-brand-soft);
  --vp-custom-block-tip-code-bg: var(--vp-c-brand-soft);

  --vp-nav-bg-color: rgba(10, 13, 18, 0.8);
  --vp-local-nav-bg-color: rgba(10, 13, 18, 0.8);
}

/* ── Hide unused default components & elements ── */
.VPHero,
.VPFeatures,
.VPNavBarAppearance,
.VPSwitchAppearance {
  display: none !important;
}

/* ── Nav refinements ── */
.VPNav {
  backdrop-filter: blur(16px) saturate(180%) !important;
  border-bottom: 1px solid var(--color-border-subtle) !important;
}

.VPNavBarTitle .title {
  font-weight: 700 !important;
  letter-spacing: -0.01em;
}

/* ── Sidebar ── */
.VPSidebar {
  background: var(--color-surface) !important;
  border-right: 1px solid var(--color-border-subtle) !important;
}

.VPSidebarItem.is-active > .item .link > .text {
  color: #00ff85 !important;
}

/* ── Code blocks ── */
.vp-doc div[class*="language-"] {
  border-radius: 12px;
  border: 1px solid var(--color-border-subtle);
  background: var(--color-surface-raised) !important;
}

/* Preserve Shiki syntax highlighting from Tailwind resets */
.vp-doc div[class*="language-"] code {
  color: inherit;
}

.vp-doc div[class*="language-"] .line span {
  color: var(--shiki-dark, inherit) !important;
}

.vp-doc :not(pre) > code {
  background: var(--color-surface-raised);
  border: 1px solid var(--color-border-subtle);
  border-radius: 4px;
  padding: 2px 6px;
  font-size: 0.85em;
  color: var(--vp-c-brand-1);
}

/* ── Links ── */
.vp-doc a {
  text-decoration-color: rgba(0, 255, 133, 0.3);
  transition:
    color 0.2s ease,
    text-decoration-color 0.2s ease;
}

.vp-doc a:hover {
  color: #00ff85;
  text-decoration-color: #00ff85;
}

/* ── Selection ── */
::selection {
  background: rgba(0, 255, 133, 0.2);
  color: inherit;
}

/* ── Scrollbar ── */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.15);
}

.VPContent.is-home .VPHome,
.VPContent.is-home .VPHome > div,
.VPContent.is-home .VPHomeContent {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* ── Mobile Nav Fixes ── */
.VPNavBarHamburger {
  display: flex !important;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
}

@media (min-width: 768px) {
  .VPNavBarHamburger,
  .VPNavScreen {
    display: none !important;
  }
}

.VPNavBarHamburger .container {
  position: relative;
  width: 16px;
  height: 14px;
  overflow: hidden;
}

.VPNavBarHamburger .top,
.VPNavBarHamburger .middle,
.VPNavBarHamburger .bottom {
  position: absolute;
  width: 16px;
  height: 2px;
  background-color: var(--vp-c-text-1);
  transition:
    transform 0.25s,
    opacity 0.2s,
    top 0.25s;
}

.VPNavBarHamburger .top {
  top: 0;
  left: 0;
  transform: translate(0);
}

.VPNavBarHamburger .middle {
  top: 6px;
  left: 0;
  transform: translate(0);
}

.VPNavBarHamburger .bottom {
  top: 12px;
  left: 0;
  transform: translate(0);
}

.VPNavBarHamburger.active .top {
  top: 6px;
  transform: rotate(45deg);
}

.VPNavBarHamburger.active .middle {
  top: 6px;
  opacity: 0;
}

.VPNavBarHamburger.active .bottom {
  top: 6px;
  transform: rotate(-45deg);
}

/* ── Mobile Menu Screen Fix ── */
.VPNavScreen {
  position: fixed !important;
  top: var(--vp-nav-height) !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  /* Use viewport height minus nav height to ensure it fills screen */
  height: calc(100dvh - var(--vp-nav-height)) !important;
  overflow-y: auto !important;
  background-color: var(--vp-c-bg) !important;
  /* Ensure background is opaque */
  pointer-events: auto !important;
  z-index: 100 !important;
  /* Ensure it's hidden when not active - relying on VitePress toggling display: none or similar on parent, 
     but if it's just height 0, we need to be careful not to show it always. 
     The debug said display: block even when closed? No, usually it's display: none. 
     The debug said "navScreenVisible: false" initially. 
     If it's always display: block but height 0, we can't force height to 100dvh unconditionally.
     We should only apply this when the menu is OPEN. 
     VitePress Default Theme adds class `open` to VPNavScreen when open.
  */
}

.VPNavScreen.open {
  display: block !important;
  height: calc(100dvh - var(--vp-nav-height)) !important;
}

/* If the class isn't 'open', check standard VitePress behavior. 
   Standard uses .VPNavScreen.open { display: block } 
   and .VPNavScreen { display: none }
*/

/* ── GitHub Snippet Code Blocks ── */
.vp-code {
  margin: 0;
  padding: 1.25rem 1.5rem;
  background-color: var(--vp-code-block-bg);
  border-radius: 8px;
  overflow-x: auto;
  font-family: var(--vp-font-family-mono);
  font-size: var(--vp-code-font-size);
  line-height: var(--vp-code-line-height);
  color: var(--vp-c-text-2);
}
